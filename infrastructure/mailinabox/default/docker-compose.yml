name: infrastructure-mailinabox-default

# Mail-in-a-Box runs in LXD container, not Docker
# This container provides status visibility in the TUI

services:
  mailinabox-status:
    image: alpine:latest
    container_name: mailinabox-status
    restart: unless-stopped
    command:
      - sh
      - -c
      - |
        echo "Mail-in-a-Box Status Monitor"
        echo "MIAB runs in LXD container: mailinabox"
        echo "Use 'sudo lxc exec mailinabox -- bash' to access"
        while true; do
          sleep 3600
        done
    labels:
      - "infra.type=lxd-monitor"
      - "infra.lxd.container=mailinabox"

# Note: The actual MIAB runs in LXD container 'mailinabox'
# This Docker container just provides status visibility in the TUI
#
# LXD container management:
#   sudo lxc exec mailinabox -- bash   # Shell access
#   sudo lxc stop mailinabox           # Stop
#   sudo lxc start mailinabox          # Start
#
# Web access (via Traefik):
#   Admin: https://<MIAB_HOSTNAME>/admin
#   Webmail: https://<MIAB_HOSTNAME>/mail
